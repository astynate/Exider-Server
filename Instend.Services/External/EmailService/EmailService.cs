using System.Net.Mail;
using System.Net;
using Exider.Dependencies.Services;
using Exider.Core;
using Exider.Core.Models.Account;
using System.Text;

namespace Exider_Version_2._0._0.ServerApp.Services
{

    public class EmailService : IEmailService
    {
        private static readonly string _emailConfirmation = "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <meta name=\"google\" content=\"notranslate\">\r\n    <style>\r\n        @import url('https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&display=swap');\r\n        * {\r\n            margin: 0;\r\n            padding: 0;\r\n            box-sizing: border-box;\r\n        }\r\n        body {\r\n            font-family: 'Open Sans', sans-serif;\r\n            color: black;\r\n        }\r\n        .m-b {\r\n            margin-bottom: 20px;\r\n        }\r\n        .m-b-10 {\r\n            margin-bottom: 10px;\r\n        }\r\n        h1 {\r\n            font-size: 26px;\r\n            color: black;\r\n        }\r\n        h2 {\r\n            color: black;\r\n        }\r\n        h3 {\r\n            font-size: 16px;\r\n            color: black;\r\n        }\r\n        .wrapper {\r\n            height: auto;\r\n            width: 425px;\r\n            margin-top: 20px;\r\n            margin-left: auto;\r\n            margin-right: auto;\r\n            text-align: center;\r\n        }\r\n        .content-wrapper {\r\n            padding-left: 10px;\r\n            padding-right: 10px;\r\n        }\r\n        .content-divide {\r\n            margin-top: 30px;\r\n            margin-bottom: 30px;\r\n            border: 1px solid #eaeaea;\r\n        }\r\n        .logo {\r\n            height: 70px;\r\n            width: 70px;\r\n            margin-bottom: 10px;\r\n            object-fit: contain;\r\n            user-select: none;\r\n        }\r\n        .logo-wrapper {\r\n            height: auto;\r\n            width: 100%;\r\n        }\r\n        .logo-link {\r\n            height: auto;\r\n            width: auto;\r\n        }\r\n        p {\r\n            align-self: center;\r\n            font-weight: 500;\r\n            font-size: 14px;\r\n            text-align: center;\r\n            color: #515151;\r\n        }\r\n        span {\r\n            color: #2f8fff;\r\n            cursor: pointer;\r\n            user-select: none;\r\n        }\r\n        a {\r\n            text-decoration: none;\r\n        }\r\n        .button {\r\n            background: #2b80ff;\r\n            border-radius: 30px;\r\n            text-align: center;\r\n            margin-top: 20px;\r\n            width: fit-content;\r\n            user-select: none;\r\n            font-weight: 600;\r\n            display: flex;\r\n            text-transform: uppercase;\r\n            text-decoration: none;\r\n            margin-left: auto;\r\n            margin-right: auto;\r\n            color: white;\r\n            outline: none;\r\n            border: none;\r\n            outline: none;\r\n            font-size: 14px;\r\n            transition: 0.1s ease;\r\n        }\r\n        .code {\r\n            height: auto;\r\n            width: fit-content;\r\n            text-align: center;\r\n            padding: 10px 25px;\r\n            background: #f3f3f3;\r\n            margin-left: auto;\r\n            margin-right: auto;\r\n            margin-bottom: 20px;\r\n            border-radius: 12px;\r\n            font-size: 12px;\r\n        }\r\n        footer {\r\n            height: auto;\r\n            width: 100%;\r\n            padding: 10px 10px;\r\n            background: #f9f9f9;\r\n            text-align: left;\r\n            border-radius: 6px;\r\n            color: #bdbdbd;\r\n        }\r\n        footer p {\r\n            text-align: left;\r\n            margin-bottom: 5px;\r\n        }\r\n        .exider-security {\r\n            display: grid;\r\n            width: fit-content;\r\n        }\r\n        .footer-logo {\r\n            height: 26px;\r\n            width: 26px;\r\n            object-fit: contain;\r\n            padding: 5px;\r\n            background: white;\r\n            border: 1px solid #e3e3e3;\r\n            border-radius: 6px;\r\n        }\r\n        .footer-link {\r\n            color: #ababab;\r\n            font-size: 12px;\r\n            text-align: right;\r\n            text-decoration: underline;\r\n        }\r\n        .social-network {\r\n            height: 20px;\r\n            width: 20px;\r\n            margin-top: 5px;\r\n            object-fit: contain;\r\n        }\r\n        .footer-first-line {\r\n            margin-top: 3px;\r\n        }\r\n        @media (max-width: 470px) {\r\n            .content-wrapper {\r\n                padding-left: 20px;\r\n                padding-right: 20px;\r\n            }\r\n            .wrapper {\r\n                width: 100vw;\r\n            }\r\n            .footer-first-line {\r\n                margin-top: 10px;\r\n            }\r\n            footer {\r\n                padding: 0;\r\n                font-size: 11px;\r\n                padding: 20px;\r\n            }\r\n        }\r\n    </style>\r\n\r\n</head>\r\n<body>\r\n\r\n    <div class=\"wrapper\">\r\n        <div class=\"content-wrapper\">\r\n            <div class=\"logo-wrapper\">\r\n                <a href=\"https://exider.com\" class=\"logo-link\">\r\n                    <img src=\"https://lh3.googleusercontent.com/fife/ALs6j_EawlQMWK3NrKq8gf28vtAwsi-ZB9xZfR496jHvpAjjDSNAplNhh0GEUMYHXLRxq4qQpwY61PocPnzttqQT0Of0vQ0IihV1nxJhZvtH3giboDquR1mJfVWyCN7ggHlDsXthEwn1KULJcTLixM5VGyGAw1rJeGpOvkTGFiYsIrhWD3fy4AgFYYAk_XDWOObyJlvxqvY4l68ohOWWQXOivzPk4bHZMjeRcse4kmGk9FjbF0sDTQcstKjrGsFf6Ng10mxmWyjM-oKBuAlETYucgWYdOf-asxknm9uMpemkWFIuzRr3r9cjTTShSAvX5X4CG2_U4b2boon3MXTUTosCwqCbktqHf6rKWimMns_YrWV_wTxsB16gPeLY4oymnSD8x_WKySdt-wyuEG9uqKFTSfSCtvtn31syEd9nER2wrSpt0ShAy_AJCCbfNwfjO56kYYTGm1t117D_n-YuTc5kV-KvaDD_0FMdtTxPNt3fEQORN8zYGuk3qSyHux_-7q9urtn5L6Yl0qIfW268nT9BdpW2qRdi2XmKxBERnr1PK3icyPvqYLnb5cWrD3wdYLpAcOOdWw1Ax6wrIR0pc2RKDVtiES7KI83mM3JwiedGJI1ppVRnC9cRDlUNhkuqz5QTSq-yNdkzPe4qc4WPU-iMdTFPHOTu1MQRyAQ2GnvQXTxtH2Rsfn4GBSuCpZPfieo4I7xLIFzjC9NKdJ-tl0X2w1t2uJjeVyrlWm05dnVTqM5VFiiF8MHhO1jU8eL9VyC7I-0ebzofWVNWhXBT2V8vxNmqaQCYwjrVqf2YrWY8B1LNEw3-JOTp5YiGdD5p1XGxyhv3RQLCQdMuesQMYXuxoMYrJ4KE7bBcTHEtWkqQdmgvJ-VI9ir9rDdXXO0YbSX-DNZVgUZf6MPmdOF43Ih6ggn-ujF8XdfL52QynYvC8VqNGmrzwSGkjzlEvT-Ia9oF9Kd18_fGIC15XUIYlxwL6DZB3uKd5uN-hPwMw5LsNdhw9wsZtJYWoMkbo_fCfQF6i_8EMA_LgS8GV2uP5yzXdkXe1QoXIpWmcJBtkAETKRD17hAHRd2fPjCmFQFYtGJIBi8OQvLAJqZsMoxCE3ebC1-qtbmr4TQh9JUGXSQ5pKSyyafoVcCN4rAH-fV6gP5Lvn8DiPz8sFQuIVVi6R2AXBcR62MahzpE9v7p-Pb16i-JAc81INksT0YZEeO9r8fuiRmWtkRYhFWRRTtxkuQamfnhOfYpreejgkGgcb842coLOOBb7kRev1YJ_tBgkSfNYa65Jxi9NUpunv0dMVwnnwJYpEYm3cpxAoqinTDaU0yTzOe7wuUOj9E1QRjY01QYCc2JckMkyjxvBvTDtJqB-SqercjPbJeJwdC3o5Fvsal2jW3NPmN4qq77d9MZtNJqKEoYH_6LIm8D-mBEnKRXkirrRcSOm_PAl8iMfm-BOg3c87XFbxd9dh3sb-dWP1MQ5O4YBm5uI2d0eSwH4acIqK__d2aqx4OuYUOxnGrW2vuePwLmZwFAODscZvLmh2Kutkypl38DfA2ZwjebPOZgB5xATVwAU4q9tRKogT7AhPTyt08fZso1eyPyvU01y2g-Vzjpo9_XTzRLZtnDtpFvAP5YTOVImNde4PF_rzPPwobMUKVVxw=w1920-h912\" class=\"logo\" draggable=\"false\" />\r\n                </a>\r\n            </div>\r\n            <h1 class=\"m-b-10\">Successfully registered</h1>\r\n            <p class=\"m-b\">Thank you for choosing to register an account with us. To complete your registration, please <span>follow the link</span> below and enter the <span>confirmation code.</span></p>\r\n            <div class=\"button m-b\"><a href=\"LINK\" style=\"color: white; height: 100%; width: 100%; cursor: pointer; padding: 15px 45px;\">Confirm email</a></div>\r\n            <hr class=\"content-divide\">\r\n            <p class=\"m-b\">You will be asked to enter <span>this code</span>,<br>\r\n            Pease <span>do not show</span> it to anyone</p>\r\n            <div class=\"code\">\r\n                <h2>CODE</h2>\r\n            </div>\r\n        </div>\r\n        <footer>\r\n            <div class=\"header\">\r\n                <div style=\"width: 100%; display: flex;\">\r\n                    <div style=\"width: 35px;\">\r\n                        <img src=\"https://lh3.googleusercontent.com/u/0/drive-viewer/AEYmBYS-b_pMLiSYlDXWgyda29nFKjnMYUtiWpiwYhqwvDkihZBzsq1RAQGsR9cCBgmo8NOBuyg03EXGrxatGF8bD1mbNB0E0w=w1960-h2358\" class=\"footer-logo\" draggable=\"false\">\r\n                    </div>\r\n                    <div style=\"margin-right: auto;\">\r\n                        <div style=\"margin-bottom: 5px; font-size: 12px; color: #333; margin-top: 5px; font-weight: 600; display: flex; grid-gap: 3px;\"><div style=\"font-weight: 700;\">Exider</div>&nbsp;Security</div>\r\n                    </div>\r\n                    <div style=\"display: flex; margin-left: auto; margin-top: 5px;\">\r\n                        <a href=\"#\" class=\"footer-link\" style=\"margin-right: 15px; color :#ababab;\">Terms of use</a>\r\n                        <a href=\"#\" class=\"footer-link\" style=\"color :#ababab;\">Privacy policy</a>\r\n                    </div>\r\n                </div>\r\n                <div style=\"height: 1px; width: 100%; background: #ddd;\" class=\"footer-first-line\"></div>\r\n                <h3 style=\"margin-top: 10px; font-size: 12px; color: #999;\">Why did you receive this letter?</h3>\r\n                <p style=\"margin-top: 5px; font-size: 12px; color: #ccc;\">An attempt was made to register an account using your email. If this is not you, then simply ignore this message and without email confirmation, the account will be automatically deleted after 7 days</p>\r\n                <h3 style=\"margin-top: 10px; font-size: 12px; color: #999;\">About Us</h3>\r\n                <p style=\"margin-top: 5px; font-size: 12px; color: #ccc;\">Exider helps you automatically sync files across your devices, share them with friends, and edit them using neural networks</p>\r\n                <div style=\"margin-top: 10px; height: 1px; width: 100%; background: #ddd;\"></div>\r\n                <div style=\"width: 100%; margin-top: 5px; display: flex;\">\r\n                    <div style=\"font-size: 12px; margin-top: 7px; color: #999; font-weight: 500;\">© Andreev 2024. Minsk, Belarus</div>\r\n                    <div style=\"margin-left: auto;\">\r\n                        <a href=\"https://www.facebook.com/profile.php/?id=61553222136930&paipv=0&eav=AfYg6dkHp8U4FG3lqDfucLJeTJhV-2BSs3BHd1zuu6Jv5qQShEmPZRbBFigDzrt5DA4&_rdr\">\r\n                            <img src=\"https://lh3.googleusercontent.com/fife/ALs6j_E4daROcy_MYZm8rJ6Qk6uwEWquYrlV9rxBZVJBVAe-yuRsDenMNPjd_xrZikFraxqv2nHFYfGlD-o8mTcWPHinbgq-uPvWHgcAnpC-_3WvIWdePj7tv6v5oEJlmOwVGyzZEObetB7MDFEKkvzMSk1dR7DnPSZzeqy_OqskLBoi5SpFDcJPboY_nuKQ47SS8riDTIrFKt_eorB8EkX8vae28P0kvy-1125OChW7TFQzmgyuzxaUWheSYNAtndWkr0AxnUIeg7Cveoa5v7TwjVbQJthYHqdSA-uyWOUwtsGsGQvmQ2GRP6wjOPutgKTIuFwzVIsZ5eHRT7mkw1a8LbjYp5DbVu4Ek73m1E1SYibNzTwKTclygyq89e5Slnxg8vxYfOHl7CbiMmFdehkhVlb9xrJxVcRiU9CzqAtMMdZHdLI7WJiYdXbcegnYw6jBhabXe7Y4n6BsDQurHYJ6Hlz31aip-uE4g_mWBzo7qSExz4BNE6ZXRHGAiXPkw0p1iEd_hocLQYIhtCRW31A3Cm0Rv8ncbcPkfl3dSG4oH5rvSDJYPcJ84lp52yn_LeGu5ZeDTvPPrkLaX071_hHhsj_WEU4wgSws0rHuZXzNw2RRsEOkiE7XwS6wiy1mUidYI7F1Ekxdy59EQmfG2Ks4MTjRpv8DgOFtZXUAuWgC6Q6jZpRN57yHHj2wk8z3C_uO0J8oDTWtX5UGb6g5FhfbBBp6Dl-hXFQpfGQE640o25sSkC5I6zvq52bcEo2RSqxzzZeq3s4097hOWGsP-0jlzTzeWh3fwLCQZmdfa1E3Qqm85OtTYtmQpZKUuWFYrxskR3LhAj758z7DhENVrJik514-Ux-w7JJAZuKt6OULwCFRweFSHsXUvSbvvak2BpVVxknK3fYKDShFo40Pt666aABiEXAXP1E0Ukz7wtH8ZVpf4oq_mR9ztpoU0gYzXTsdfMXKRLXarNkJIwdqxweo-KzYHkUWqMXpIBCg9qQ7Seec9NC_b77s4t9XfYI4p9ZwsQW43MPjVB-MfbeHPpvwizW6JDinHOkuKGlog3nuMza-I8wvkmh-hHdLvKTYuSChNjlUCd0b8243gozh5_vfE8zlfZioTlTDYPUqghQRo5ggrKlMlyvcsmdtJPf6-GqFtoND9JUX8CUQ9RL--RdZzzifLchLJ7csJ2jjBQs4USnzNgk394Pw_UjOA8QKuUsBR86LYnjjY-ulzhyqO_5QR4r0wwXmTdh-QDnypmjt8qiJawGR_F_F-VQMjY5IQgSQKOoPfkDO21EcBOdoFQZvA5WBAG4qoydkP5t-_BiKOqD3sUlzhCiEKWIPGbcTV_FAxaMcSNINjG6qEhnycJDYnE7yKwUJkGyMa4dSUTKsahjKpRMMs7p2eOWRo0j32zq37JabQO5NaeYD5Khr5hJlgnT9-dzyjpDVPlLC8x2FMwBIYSnELn-5Kupu7upwXS8ShPtyeXH85_ZSRUkly8KkhZk5Q4ZcPcdToVL5Qc050J-XL5CpRRlZu4aBPbiJeP_tzyxnuBp45iCocfaYoWez91LdbSk55-doa6u-PKhKQGnC30f1pnjdU2w9Xgi-Iic384KHlT7HiMR5tcNKc7y_ijCTbs3o5OcCOzhyoyRY37ee-8tLSQ=w1202-h912\" class=\"social-network\" draggable=\"false\">\r\n                        </a>\r\n                        <a href=\"https://instagram.com/exider_company\" style=\"margin-left: 10px;\">\r\n                            <img src=\"https://lh3.googleusercontent.com/fife/ALs6j_HItPGHXR0n7W2aWkSDkoF7gCxS67kNo-o8sCBg27x61CVwsfRoiAdJ1JgL5tt1McXBlByHnNXkvw1y2THfXKoghc2oR3kuoHiqZlij32z-gD6xkYL40F6NE1I0D2KCTZgw2621q7Hk8EgwfqAXfZjEtCnxiALlSynIXDsROelkFatLmkFc3iTVB0noG6cw1c7mjCYBdEyNMzvMAtGgzs17zanWBB-z9PZR1-_3m7GAv_BqsSbY5v_bAe9XYa8B0b6PiZBcA6U-q2KiO2K69uDx0G5TpSAKaH58s99EfCPWWVJaxT-SBh39LF-MSCwjkXfYuODzQQXxpKc86d1EzV33pxKXZbMlSNbJWzBfzguPXciRStz8OV3y77ef8r8rwvlkjnIok_Xuvt7fKjvcDCBpDbZ-M5jIRbPh6axsfuJ9k1bCSiAhEO3xSeQhNJEDpzAfsHLwJznLupj6IyBnxYotlDXZKrYpGKyksH8qv1LehnUZb76SwwcO4l9N2akiGLwbeT6XR0nVpoFycQEfR0LfWgSlr8ksjMdUYt30fglPhSD9wq1qYuH9rvkKaDGOnAd9lbc8U-6IEfq3F5WQncGBXyAdbMmuydKYmuYpc1rVjU6vqGZ1xN-NT8mCPrFfKGBAbXluFitRGL6lorTNE7hxSHGzdhD0pO2wjOgOn71zKlAK563tGihqeujG91pxZ_bzHtFO2Ba4ylBkSc4v_eNxQT_-2eIdk0Dv85gXStF7lLMG7EMLsPq3yexMdiefhnT7OJL_EETAc4nzwvWFIsvWVY2RV5fy-z9lTqIB8LTtE0atPrh1azRhnI5ZeAq4XITsktA6u5EOtgsM-NQfbrBPz20L7qknRd7vLr42i-9OkycNsLm7Pnhxwf9nXCzHf7bI2QywOmQUmZd-akBYEPxAITSPo3Hh-RmUD9m9RLhdYjFWPB57IBSIKxYIo4WvgHt4MM56YmByJKTg9-LbpUc7PrWDRo8qBOTLF56-uYpJEWo9QpfkTOnjrD-RFuwgcHjBcUP475LjxlTst__anyBkK5c6bS6NqTahGzCr6ItY2V9GnC8MyrsixgAO1WfVOFsfbvKWStI1npibe5VxdeuKmWuUzYBOJE9ifhQo6B8Ryj9VDJ5rD3g7CcQWGm393kTg55lJXuKyimQlsTe1994EvU7Shm2j7AyNKQDt6oHlURZxY1WHc88tpMTEb7rGJNPzNTUplctaDbGgq0cLS3ffRT2SjUkYOrp2B-gxXiMTduQ05c_dwMzQRAsZR50cr8wv1DPBiji3pwIBdShZLIMOTsC5G4YQcHrLW5NozT9vsNIYdBiDfR6X1icKFnUcSZjAJpY_naZusSQ7QGwYTX8ReEa_xDGpCVUokFmmH9LbK9hvVPln5ZxDGIgf-5Fijq-V_1BLT2KaOjJBLAK5fZyZ7oO2VpsJWUB5nKarhkomghgX83vWgyw2jnPTkvHm860uxtURTQ5ut3VB9CPKYoWB_cLY-XmYiXotdmf9FoYeZhYvtT_sDTIdBAQh4AU9uOFnWIDBBHhX6RYATOX1FUb94gV7SJEk8KC2NnqIplrz5ifccFT9gGv2KQQmfFqh7D-89BvoUtqzdjbPpvMa3SVZsN8LcUBy9iHGeYqBfkUXvkLZNYs=w1920-h912\" class=\"social-network\" draggable=\"false\">\r\n                        </a>\r\n                        <a href=\"https://twitter.com/exider_company\" style=\"margin-left: 10px;\">\r\n                            <img src=\"https://lh3.googleusercontent.com/fife/ALs6j_ELsYOQM_xCNTA_F1XsfYiFemp3UFl8i-aRCA0SOTd5s5Y1lh5iGGu--nf0CYzISsaQQYwpCiTJ33IAzs2hbCbYUSRnmjR04c5TzoeKUtYaftuoWrdpOx1IXLdXrYV0oN4O7tzejmq9tsGBy7TTnLHJ7Q_FhpjUekOs_Bw60_jfvWepC3IcATAMX_kv056V4_ZHKwlEs_dYuMB3eRHahDRYgoTm162TTxtCWn3_OzwgRt-BGMB2rkzt_cNznjHDCIGSd88cm3mBTd7OE21M86ETXtrF7nxQeaiEGBy4d4Jf7qFjP5ElD7WRI-pZJggLKv-hslV9zkEa1nXrDyulY1jmClLqkmImsDVtoY-fI3tCdfP_Q-QHUrNUK0vM9sF5r9vl0Oem-6WIJ6k2Da-0KWpCx8AKC5Ds9c7GdNNs8liZcZJGG6RvbjEFMK5RbXg2TLry_cHFiQK9A73EDs8bc1OzVn7JQZ7tfg05In04KyvIrSP9ZED896At9EaNqizJDmQuq-e--lQ5C-wfoAnw8k1UBtVH55o4nvAqBhej1bbvyGGyD6oPfol2k346PJJWk9urfCBeGo42PzUsEbLK6bOoD-5T0Dw87xtZiLq-g_sIJ8dvDw3LjrROK3pmlTE34HgMRujWErDGY3vHpLZicUxQ2NAv17ruVgYC9Uglm_F5wXUIufMPW2cUL9pVOjPl23jJ4hdCMAnvcMygGSiemw-mfPHIaN2lNMy6aySDrVCpo2-244-7XOJ_rzE8WeR24zikS9FkpqpQvWbT-6--jQuoUB1efYr5pzP9e-bJVpZWY_FWYX6wU7dVo-kQQa2os7YQkQYG8nr7dCO3z5MLm3wMNlhm50AahLJPyZMZvgViCCyA3dCf4g8u85Zgikb6C4jZPdHPx5rpOWcvs08BSV7xNeBSEtxRkQ7Qy-2SaWVIg9ggl9TwMT7V2wuoi1NmCKoe24PEsJYlpHhsOx0M1pXXvjxJPzO7CjGU13vnf1NmVMm9b4r_hUXpSIOwuayLIxB0oZVrulnkmRrfWh4w7HXRbEUENb2G8nIgnzj4eaiHVppfkQs6PB5KR8FxghwQJ670jCH4FyfGj8rUzm6g0LCCng7Q1DhxlQ7FoCZb9NKou0OaxYBBj5jaD2vGvMtTaDAEeXDpr4D7lqsxz4guGznlX8awJRMewOsHuxs76JWhySAyYvv26YYthmGfFFR5HFV0aTADqO1Wke2jV1cb7gYToITMN_2Lyl54TuGYw__EBdsCZACrGq_yoLZC-CiNxBNl-zt_SGbtkYmMBINY9sZ_2nQE68GmJJVJgyk5WLaVwx8VoSM6Vjsfb-jpeEg5i2eWmkTa7HfAN4OLU8aMQ4ytdGXSAZhpVBPaVMysUDBX1WP2YIRP5gatP8UHTPHJFmj-DlS1XtHGxnhKo-PAgcanqCuOkdidwW7DeiN-77ToqiyOpufm2XA-x-ercgKVSydwVuoqZxgUski3LptW7TMzzpPStxjNQnhHeK_jUqERcGZVjYSU77Ah-bo1oB8y9g9K1jQxtIMqO2VI4w3KN503-8wNI3Glr6KB4qc8MpIDsaUfKED06mI5Jq0VPBSDKm_9hNFlQtdoj4xhmIhjxYBI5oxle_MZZb533ABZ1n1EVbDzCKA=w1920-h912\" class=\"social-network\" draggable=\"false\">\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    </div>\r\n</body>\r\n</html>";

        private static readonly string _passwordRecovery = "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <meta name=\"google\" content=\"notranslate\">\r\n    <style>\r\n        @import url('https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&display=swap');\r\n        * {\r\n            margin: 0;\r\n            padding: 0;\r\n            box-sizing: border-box;\r\n        }\r\n        body {\r\n            font-family: 'Open Sans', sans-serif;\r\n            color: black;\r\n        }\r\n        .m-b {\r\n            margin-bottom: 20px;\r\n        }\r\n        .m-b-10 {\r\n            margin-bottom: 10px;\r\n        }\r\n        h1 {\r\n            font-size: 26px;\r\n            color: black;\r\n        }\r\n        h2 {\r\n            color: black;\r\n        }\r\n        h3 {\r\n            font-size: 16px;\r\n            color: black;\r\n        }\r\n        h4 {\r\n            font-size: 14px;\r\n            color: rgb(177, 177, 177);\r\n            margin-top: 2px;\r\n            font-weight: 500;\r\n            margin-bottom: 2px;\r\n        }\r\n        .wrapper {\r\n            height: auto;\r\n            width: 425px;\r\n            margin-top: 20px;\r\n            margin-left: auto;\r\n            margin-right: auto;\r\n            text-align: center;\r\n        }\r\n        .content-wrapper {\r\n            padding-left: 10px;\r\n            padding-right: 10px;\r\n        }\r\n        .content-divide {\r\n            margin-top: 15px;\r\n            margin-bottom: 15px;\r\n            border: 1px solid #eaeaea;\r\n        }\r\n        .logo {\r\n            height: 70px;\r\n            width: 70px;\r\n            margin-bottom: 5px;\r\n            object-fit: contain;\r\n            user-select: none;\r\n        }\r\n        .logo-wrapper {\r\n            height: auto;\r\n            width: 100%;\r\n        }\r\n        .logo-link {\r\n            height: auto;\r\n            width: auto;\r\n        }\r\n        p {\r\n            align-self: center;\r\n            font-weight: 500;\r\n            font-size: 14px;\r\n            text-align: center;\r\n            color: #515151;\r\n        }\r\n        span {\r\n            color: #2f8fff;\r\n            cursor: pointer;\r\n            user-select: none;\r\n        }\r\n        a {\r\n            text-decoration: none;\r\n        }\r\n        .button {\r\n            background: #2b80ff;\r\n            border-radius: 30px;\r\n            text-align: center;\r\n            margin-top: 20px;\r\n            width: fit-content;\r\n            user-select: none;\r\n            font-weight: 600;\r\n            display: flex;\r\n            text-transform: uppercase;\r\n            text-decoration: none;\r\n            margin-left: auto;\r\n            margin-right: auto;\r\n            color: white;\r\n            outline: none;\r\n            border: none;\r\n            outline: none;\r\n            font-size: 14px;\r\n            transition: 0.1s ease;\r\n        }\r\n        .code {\r\n            height: auto;\r\n            width: fit-content;\r\n            text-align: center;\r\n            padding: 10px 25px;\r\n            background: #f3f3f3;\r\n            margin-left: auto;\r\n            margin-right: auto;\r\n            margin-bottom: 20px;\r\n            border-radius: 12px;\r\n            font-size: 12px;\r\n        }\r\n        footer {\r\n            height: auto;\r\n            width: 100%;\r\n            padding: 10px 10px;\r\n            background: #f9f9f9;\r\n            text-align: left;\r\n            border-radius: 6px;\r\n            color: #bdbdbd;\r\n        }\r\n        footer p {\r\n            text-align: left;\r\n            margin-bottom: 5px;\r\n        }\r\n        .exider-security {\r\n            display: grid;\r\n            width: fit-content;\r\n        }\r\n        .footer-logo {\r\n            height: 26px;\r\n            width: 26px;\r\n            object-fit: contain;\r\n            padding: 5px;\r\n            background: white;\r\n            border: 1px solid #e3e3e3;\r\n            border-radius: 6px;\r\n        }\r\n        .footer-link {\r\n            color: #ababab;\r\n            font-size: 12px;\r\n            text-align: right;\r\n            text-decoration: underline;\r\n        }\r\n        .social-network {\r\n            height: 20px;\r\n            width: 20px;\r\n            margin-top: 5px;\r\n            object-fit: contain;\r\n        }\r\n        .footer-first-line {\r\n            margin-top: 3px;\r\n        }\r\n        table {\r\n            border-collapse: collapse;\r\n            width: 100%;\r\n        }\r\n        th, td {\r\n            text-align: left;\r\n            padding: 10px;\r\n            color: #ababab;\r\n            width: 50%;\r\n            font-size: 14px;\r\n        }\r\n        th {\r\n            border-left: none;\r\n        }\r\n        td {\r\n            border-right: none;\r\n        }\r\n        @media (max-width: 470px) {\r\n            .content-wrapper {\r\n                padding-left: 20px;\r\n                padding-right: 20px;\r\n            }\r\n            .wrapper {\r\n                width: 100vw;\r\n            }\r\n            .footer-first-line {\r\n                margin-top: 10px;\r\n            }\r\n            footer {\r\n                padding: 0;\r\n                font-size: 11px;\r\n                padding: 20px;\r\n            }\r\n        }\r\n    </style>\r\n\r\n</head>\r\n<body>\r\n\r\n    <div class=\"wrapper\">\r\n        <div class=\"content-wrapper\">\r\n            <div class=\"logo-wrapper\">\r\n                <a href=\"https://exider.com\" class=\"logo-link\">\r\n                    <img src=\"https://lh3.googleusercontent.com/fife/ALs6j_EawlQMWK3NrKq8gf28vtAwsi-ZB9xZfR496jHvpAjjDSNAplNhh0GEUMYHXLRxq4qQpwY61PocPnzttqQT0Of0vQ0IihV1nxJhZvtH3giboDquR1mJfVWyCN7ggHlDsXthEwn1KULJcTLixM5VGyGAw1rJeGpOvkTGFiYsIrhWD3fy4AgFYYAk_XDWOObyJlvxqvY4l68ohOWWQXOivzPk4bHZMjeRcse4kmGk9FjbF0sDTQcstKjrGsFf6Ng10mxmWyjM-oKBuAlETYucgWYdOf-asxknm9uMpemkWFIuzRr3r9cjTTShSAvX5X4CG2_U4b2boon3MXTUTosCwqCbktqHf6rKWimMns_YrWV_wTxsB16gPeLY4oymnSD8x_WKySdt-wyuEG9uqKFTSfSCtvtn31syEd9nER2wrSpt0ShAy_AJCCbfNwfjO56kYYTGm1t117D_n-YuTc5kV-KvaDD_0FMdtTxPNt3fEQORN8zYGuk3qSyHux_-7q9urtn5L6Yl0qIfW268nT9BdpW2qRdi2XmKxBERnr1PK3icyPvqYLnb5cWrD3wdYLpAcOOdWw1Ax6wrIR0pc2RKDVtiES7KI83mM3JwiedGJI1ppVRnC9cRDlUNhkuqz5QTSq-yNdkzPe4qc4WPU-iMdTFPHOTu1MQRyAQ2GnvQXTxtH2Rsfn4GBSuCpZPfieo4I7xLIFzjC9NKdJ-tl0X2w1t2uJjeVyrlWm05dnVTqM5VFiiF8MHhO1jU8eL9VyC7I-0ebzofWVNWhXBT2V8vxNmqaQCYwjrVqf2YrWY8B1LNEw3-JOTp5YiGdD5p1XGxyhv3RQLCQdMuesQMYXuxoMYrJ4KE7bBcTHEtWkqQdmgvJ-VI9ir9rDdXXO0YbSX-DNZVgUZf6MPmdOF43Ih6ggn-ujF8XdfL52QynYvC8VqNGmrzwSGkjzlEvT-Ia9oF9Kd18_fGIC15XUIYlxwL6DZB3uKd5uN-hPwMw5LsNdhw9wsZtJYWoMkbo_fCfQF6i_8EMA_LgS8GV2uP5yzXdkXe1QoXIpWmcJBtkAETKRD17hAHRd2fPjCmFQFYtGJIBi8OQvLAJqZsMoxCE3ebC1-qtbmr4TQh9JUGXSQ5pKSyyafoVcCN4rAH-fV6gP5Lvn8DiPz8sFQuIVVi6R2AXBcR62MahzpE9v7p-Pb16i-JAc81INksT0YZEeO9r8fuiRmWtkRYhFWRRTtxkuQamfnhOfYpreejgkGgcb842coLOOBb7kRev1YJ_tBgkSfNYa65Jxi9NUpunv0dMVwnnwJYpEYm3cpxAoqinTDaU0yTzOe7wuUOj9E1QRjY01QYCc2JckMkyjxvBvTDtJqB-SqercjPbJeJwdC3o5Fvsal2jW3NPmN4qq77d9MZtNJqKEoYH_6LIm8D-mBEnKRXkirrRcSOm_PAl8iMfm-BOg3c87XFbxd9dh3sb-dWP1MQ5O4YBm5uI2d0eSwH4acIqK__d2aqx4OuYUOxnGrW2vuePwLmZwFAODscZvLmh2Kutkypl38DfA2ZwjebPOZgB5xATVwAU4q9tRKogT7AhPTyt08fZso1eyPyvU01y2g-Vzjpo9_XTzRLZtnDtpFvAP5YTOVImNde4PF_rzPPwobMUKVVxw=w1920-h912\" class=\"logo\" draggable=\"false\" />\r\n                </a>\r\n            </div>\r\n            <h1 class=\"m-b-10\">Password recovery</h1>\r\n            <p class=\"m-b\" style=\"font-size: 14px;\">This message was sent because we received a request to reset your password.</p>\r\n            <div class=\"button m-b\"><a href=\"LINK\" style=\"color: white; height: 100%; width: 100%; cursor: pointer; padding: 15px 45px;\">Change password</a></div>\r\n            <hr class=\"content-divide\">\r\n            <p class=\"m-b\" style=\"font-size: 14px;\">Please do not show this code to anyone. If you did not request a password reset, simply ignore this message.</p>\r\n            <div class=\"code\">\r\n                <h2>CODE</h2>\r\n            </div>\r\n        </div>\r\n        <footer>\r\n            <div class=\"header\">\r\n                <div style=\"width: 100%; display: flex;\">\r\n                    <div style=\"width: 35px;\">\r\n                        <img src=\"https://lh3.googleusercontent.com/fife/ALs6j_EawlQMWK3NrKq8gf28vtAwsi-ZB9xZfR496jHvpAjjDSNAplNhh0GEUMYHXLRxq4qQpwY61PocPnzttqQT0Of0vQ0IihV1nxJhZvtH3giboDquR1mJfVWyCN7ggHlDsXthEwn1KULJcTLixM5VGyGAw1rJeGpOvkTGFiYsIrhWD3fy4AgFYYAk_XDWOObyJlvxqvY4l68ohOWWQXOivzPk4bHZMjeRcse4kmGk9FjbF0sDTQcstKjrGsFf6Ng10mxmWyjM-oKBuAlETYucgWYdOf-asxknm9uMpemkWFIuzRr3r9cjTTShSAvX5X4CG2_U4b2boon3MXTUTosCwqCbktqHf6rKWimMns_YrWV_wTxsB16gPeLY4oymnSD8x_WKySdt-wyuEG9uqKFTSfSCtvtn31syEd9nER2wrSpt0ShAy_AJCCbfNwfjO56kYYTGm1t117D_n-YuTc5kV-KvaDD_0FMdtTxPNt3fEQORN8zYGuk3qSyHux_-7q9urtn5L6Yl0qIfW268nT9BdpW2qRdi2XmKxBERnr1PK3icyPvqYLnb5cWrD3wdYLpAcOOdWw1Ax6wrIR0pc2RKDVtiES7KI83mM3JwiedGJI1ppVRnC9cRDlUNhkuqz5QTSq-yNdkzPe4qc4WPU-iMdTFPHOTu1MQRyAQ2GnvQXTxtH2Rsfn4GBSuCpZPfieo4I7xLIFzjC9NKdJ-tl0X2w1t2uJjeVyrlWm05dnVTqM5VFiiF8MHhO1jU8eL9VyC7I-0ebzofWVNWhXBT2V8vxNmqaQCYwjrVqf2YrWY8B1LNEw3-JOTp5YiGdD5p1XGxyhv3RQLCQdMuesQMYXuxoMYrJ4KE7bBcTHEtWkqQdmgvJ-VI9ir9rDdXXO0YbSX-DNZVgUZf6MPmdOF43Ih6ggn-ujF8XdfL52QynYvC8VqNGmrzwSGkjzlEvT-Ia9oF9Kd18_fGIC15XUIYlxwL6DZB3uKd5uN-hPwMw5LsNdhw9wsZtJYWoMkbo_fCfQF6i_8EMA_LgS8GV2uP5yzXdkXe1QoXIpWmcJBtkAETKRD17hAHRd2fPjCmFQFYtGJIBi8OQvLAJqZsMoxCE3ebC1-qtbmr4TQh9JUGXSQ5pKSyyafoVcCN4rAH-fV6gP5Lvn8DiPz8sFQuIVVi6R2AXBcR62MahzpE9v7p-Pb16i-JAc81INksT0YZEeO9r8fuiRmWtkRYhFWRRTtxkuQamfnhOfYpreejgkGgcb842coLOOBb7kRev1YJ_tBgkSfNYa65Jxi9NUpunv0dMVwnnwJYpEYm3cpxAoqinTDaU0yTzOe7wuUOj9E1QRjY01QYCc2JckMkyjxvBvTDtJqB-SqercjPbJeJwdC3o5Fvsal2jW3NPmN4qq77d9MZtNJqKEoYH_6LIm8D-mBEnKRXkirrRcSOm_PAl8iMfm-BOg3c87XFbxd9dh3sb-dWP1MQ5O4YBm5uI2d0eSwH4acIqK__d2aqx4OuYUOxnGrW2vuePwLmZwFAODscZvLmh2Kutkypl38DfA2ZwjebPOZgB5xATVwAU4q9tRKogT7AhPTyt08fZso1eyPyvU01y2g-Vzjpo9_XTzRLZtnDtpFvAP5YTOVImNde4PF_rzPPwobMUKVVxw=w1920-h9128\" class=\"footer-logo\" draggable=\"false\">\r\n                    </div>\r\n                    <div style=\"margin-right: auto;\">\r\n                        <div style=\"margin-bottom: 5px; font-size: 12px; color: #444; margin-top: 5px; font-weight: 500; display: flex;\"><div style=\"font-weight: 700;\">Instend</div>&nbsp;Security</div>\r\n                    </div>\r\n                    <div style=\"display: flex; margin-left: auto; margin-top: 5px;\">\r\n                        <a href=\"#\" class=\"footer-link\" style=\"margin-right: 15px; color :#ababab;\">Terms of use</a>\r\n                        <a href=\"#\" class=\"footer-link\" style=\"color :#ababab;\">Privacy policy</a>\r\n                    </div>\r\n                </div>\r\n                <div style=\"height: 1px; width: 100%; background: #ddd;\" class=\"footer-first-line\"></div>\r\n                <h3 style=\"margin-top: 10px; font-size: 12px; color: #999;\">About Us</h3>\r\n                <p style=\"margin-top: 5px; font-size: 12px; color: #ccc;\">Exider helps you automatically sync files across your devices, share them with friends, and edit them using neural networks</p>\r\n                <div style=\"margin-top: 10px; height: 1px; width: 100%; background: #ddd;\"></div>\r\n                <div style=\"width: 100%; margin-top: 5px; display: flex;\">\r\n                    <div style=\"font-size: 12px; margin-top: 7px; color: #999; font-weight: 500;\">© Andreev 2024. Minsk, Belarus</div>\r\n                    <div style=\"margin-left: auto;\">\r\n                        <a href=\"https://www.facebook.com/profile.php/?id=61553222136930&paipv=0&eav=AfYg6dkHp8U4FG3lqDfucLJeTJhV-2BSs3BHd1zuu6Jv5qQShEmPZRbBFigDzrt5DA4&_rdr\">\r\n                            <img src=\"https://lh3.googleusercontent.com/fife/ALs6j_E4daROcy_MYZm8rJ6Qk6uwEWquYrlV9rxBZVJBVAe-yuRsDenMNPjd_xrZikFraxqv2nHFYfGlD-o8mTcWPHinbgq-uPvWHgcAnpC-_3WvIWdePj7tv6v5oEJlmOwVGyzZEObetB7MDFEKkvzMSk1dR7DnPSZzeqy_OqskLBoi5SpFDcJPboY_nuKQ47SS8riDTIrFKt_eorB8EkX8vae28P0kvy-1125OChW7TFQzmgyuzxaUWheSYNAtndWkr0AxnUIeg7Cveoa5v7TwjVbQJthYHqdSA-uyWOUwtsGsGQvmQ2GRP6wjOPutgKTIuFwzVIsZ5eHRT7mkw1a8LbjYp5DbVu4Ek73m1E1SYibNzTwKTclygyq89e5Slnxg8vxYfOHl7CbiMmFdehkhVlb9xrJxVcRiU9CzqAtMMdZHdLI7WJiYdXbcegnYw6jBhabXe7Y4n6BsDQurHYJ6Hlz31aip-uE4g_mWBzo7qSExz4BNE6ZXRHGAiXPkw0p1iEd_hocLQYIhtCRW31A3Cm0Rv8ncbcPkfl3dSG4oH5rvSDJYPcJ84lp52yn_LeGu5ZeDTvPPrkLaX071_hHhsj_WEU4wgSws0rHuZXzNw2RRsEOkiE7XwS6wiy1mUidYI7F1Ekxdy59EQmfG2Ks4MTjRpv8DgOFtZXUAuWgC6Q6jZpRN57yHHj2wk8z3C_uO0J8oDTWtX5UGb6g5FhfbBBp6Dl-hXFQpfGQE640o25sSkC5I6zvq52bcEo2RSqxzzZeq3s4097hOWGsP-0jlzTzeWh3fwLCQZmdfa1E3Qqm85OtTYtmQpZKUuWFYrxskR3LhAj758z7DhENVrJik514-Ux-w7JJAZuKt6OULwCFRweFSHsXUvSbvvak2BpVVxknK3fYKDShFo40Pt666aABiEXAXP1E0Ukz7wtH8ZVpf4oq_mR9ztpoU0gYzXTsdfMXKRLXarNkJIwdqxweo-KzYHkUWqMXpIBCg9qQ7Seec9NC_b77s4t9XfYI4p9ZwsQW43MPjVB-MfbeHPpvwizW6JDinHOkuKGlog3nuMza-I8wvkmh-hHdLvKTYuSChNjlUCd0b8243gozh5_vfE8zlfZioTlTDYPUqghQRo5ggrKlMlyvcsmdtJPf6-GqFtoND9JUX8CUQ9RL--RdZzzifLchLJ7csJ2jjBQs4USnzNgk394Pw_UjOA8QKuUsBR86LYnjjY-ulzhyqO_5QR4r0wwXmTdh-QDnypmjt8qiJawGR_F_F-VQMjY5IQgSQKOoPfkDO21EcBOdoFQZvA5WBAG4qoydkP5t-_BiKOqD3sUlzhCiEKWIPGbcTV_FAxaMcSNINjG6qEhnycJDYnE7yKwUJkGyMa4dSUTKsahjKpRMMs7p2eOWRo0j32zq37JabQO5NaeYD5Khr5hJlgnT9-dzyjpDVPlLC8x2FMwBIYSnELn-5Kupu7upwXS8ShPtyeXH85_ZSRUkly8KkhZk5Q4ZcPcdToVL5Qc050J-XL5CpRRlZu4aBPbiJeP_tzyxnuBp45iCocfaYoWez91LdbSk55-doa6u-PKhKQGnC30f1pnjdU2w9Xgi-Iic384KHlT7HiMR5tcNKc7y_ijCTbs3o5OcCOzhyoyRY37ee-8tLSQ=w1202-h912\" class=\"social-network\" draggable=\"false\">\r\n                        </a>\r\n                        <a href=\"https://instagram.com/exider_company\" style=\"margin-left: 10px;\">\r\n                            <img src=\"https://lh3.googleusercontent.com/fife/ALs6j_HItPGHXR0n7W2aWkSDkoF7gCxS67kNo-o8sCBg27x61CVwsfRoiAdJ1JgL5tt1McXBlByHnNXkvw1y2THfXKoghc2oR3kuoHiqZlij32z-gD6xkYL40F6NE1I0D2KCTZgw2621q7Hk8EgwfqAXfZjEtCnxiALlSynIXDsROelkFatLmkFc3iTVB0noG6cw1c7mjCYBdEyNMzvMAtGgzs17zanWBB-z9PZR1-_3m7GAv_BqsSbY5v_bAe9XYa8B0b6PiZBcA6U-q2KiO2K69uDx0G5TpSAKaH58s99EfCPWWVJaxT-SBh39LF-MSCwjkXfYuODzQQXxpKc86d1EzV33pxKXZbMlSNbJWzBfzguPXciRStz8OV3y77ef8r8rwvlkjnIok_Xuvt7fKjvcDCBpDbZ-M5jIRbPh6axsfuJ9k1bCSiAhEO3xSeQhNJEDpzAfsHLwJznLupj6IyBnxYotlDXZKrYpGKyksH8qv1LehnUZb76SwwcO4l9N2akiGLwbeT6XR0nVpoFycQEfR0LfWgSlr8ksjMdUYt30fglPhSD9wq1qYuH9rvkKaDGOnAd9lbc8U-6IEfq3F5WQncGBXyAdbMmuydKYmuYpc1rVjU6vqGZ1xN-NT8mCPrFfKGBAbXluFitRGL6lorTNE7hxSHGzdhD0pO2wjOgOn71zKlAK563tGihqeujG91pxZ_bzHtFO2Ba4ylBkSc4v_eNxQT_-2eIdk0Dv85gXStF7lLMG7EMLsPq3yexMdiefhnT7OJL_EETAc4nzwvWFIsvWVY2RV5fy-z9lTqIB8LTtE0atPrh1azRhnI5ZeAq4XITsktA6u5EOtgsM-NQfbrBPz20L7qknRd7vLr42i-9OkycNsLm7Pnhxwf9nXCzHf7bI2QywOmQUmZd-akBYEPxAITSPo3Hh-RmUD9m9RLhdYjFWPB57IBSIKxYIo4WvgHt4MM56YmByJKTg9-LbpUc7PrWDRo8qBOTLF56-uYpJEWo9QpfkTOnjrD-RFuwgcHjBcUP475LjxlTst__anyBkK5c6bS6NqTahGzCr6ItY2V9GnC8MyrsixgAO1WfVOFsfbvKWStI1npibe5VxdeuKmWuUzYBOJE9ifhQo6B8Ryj9VDJ5rD3g7CcQWGm393kTg55lJXuKyimQlsTe1994EvU7Shm2j7AyNKQDt6oHlURZxY1WHc88tpMTEb7rGJNPzNTUplctaDbGgq0cLS3ffRT2SjUkYOrp2B-gxXiMTduQ05c_dwMzQRAsZR50cr8wv1DPBiji3pwIBdShZLIMOTsC5G4YQcHrLW5NozT9vsNIYdBiDfR6X1icKFnUcSZjAJpY_naZusSQ7QGwYTX8ReEa_xDGpCVUokFmmH9LbK9hvVPln5ZxDGIgf-5Fijq-V_1BLT2KaOjJBLAK5fZyZ7oO2VpsJWUB5nKarhkomghgX83vWgyw2jnPTkvHm860uxtURTQ5ut3VB9CPKYoWB_cLY-XmYiXotdmf9FoYeZhYvtT_sDTIdBAQh4AU9uOFnWIDBBHhX6RYATOX1FUb94gV7SJEk8KC2NnqIplrz5ifccFT9gGv2KQQmfFqh7D-89BvoUtqzdjbPpvMa3SVZsN8LcUBy9iHGeYqBfkUXvkLZNYs=w1920-h912\" class=\"social-network\" draggable=\"false\">\r\n                        </a>\r\n                        <a href=\"https://twitter.com/exider_company\" style=\"margin-left: 10px;\">\r\n                            <img src=\"https://lh3.googleusercontent.com/fife/ALs6j_ELsYOQM_xCNTA_F1XsfYiFemp3UFl8i-aRCA0SOTd5s5Y1lh5iGGu--nf0CYzISsaQQYwpCiTJ33IAzs2hbCbYUSRnmjR04c5TzoeKUtYaftuoWrdpOx1IXLdXrYV0oN4O7tzejmq9tsGBy7TTnLHJ7Q_FhpjUekOs_Bw60_jfvWepC3IcATAMX_kv056V4_ZHKwlEs_dYuMB3eRHahDRYgoTm162TTxtCWn3_OzwgRt-BGMB2rkzt_cNznjHDCIGSd88cm3mBTd7OE21M86ETXtrF7nxQeaiEGBy4d4Jf7qFjP5ElD7WRI-pZJggLKv-hslV9zkEa1nXrDyulY1jmClLqkmImsDVtoY-fI3tCdfP_Q-QHUrNUK0vM9sF5r9vl0Oem-6WIJ6k2Da-0KWpCx8AKC5Ds9c7GdNNs8liZcZJGG6RvbjEFMK5RbXg2TLry_cHFiQK9A73EDs8bc1OzVn7JQZ7tfg05In04KyvIrSP9ZED896At9EaNqizJDmQuq-e--lQ5C-wfoAnw8k1UBtVH55o4nvAqBhej1bbvyGGyD6oPfol2k346PJJWk9urfCBeGo42PzUsEbLK6bOoD-5T0Dw87xtZiLq-g_sIJ8dvDw3LjrROK3pmlTE34HgMRujWErDGY3vHpLZicUxQ2NAv17ruVgYC9Uglm_F5wXUIufMPW2cUL9pVOjPl23jJ4hdCMAnvcMygGSiemw-mfPHIaN2lNMy6aySDrVCpo2-244-7XOJ_rzE8WeR24zikS9FkpqpQvWbT-6--jQuoUB1efYr5pzP9e-bJVpZWY_FWYX6wU7dVo-kQQa2os7YQkQYG8nr7dCO3z5MLm3wMNlhm50AahLJPyZMZvgViCCyA3dCf4g8u85Zgikb6C4jZPdHPx5rpOWcvs08BSV7xNeBSEtxRkQ7Qy-2SaWVIg9ggl9TwMT7V2wuoi1NmCKoe24PEsJYlpHhsOx0M1pXXvjxJPzO7CjGU13vnf1NmVMm9b4r_hUXpSIOwuayLIxB0oZVrulnkmRrfWh4w7HXRbEUENb2G8nIgnzj4eaiHVppfkQs6PB5KR8FxghwQJ670jCH4FyfGj8rUzm6g0LCCng7Q1DhxlQ7FoCZb9NKou0OaxYBBj5jaD2vGvMtTaDAEeXDpr4D7lqsxz4guGznlX8awJRMewOsHuxs76JWhySAyYvv26YYthmGfFFR5HFV0aTADqO1Wke2jV1cb7gYToITMN_2Lyl54TuGYw__EBdsCZACrGq_yoLZC-CiNxBNl-zt_SGbtkYmMBINY9sZ_2nQE68GmJJVJgyk5WLaVwx8VoSM6Vjsfb-jpeEg5i2eWmkTa7HfAN4OLU8aMQ4ytdGXSAZhpVBPaVMysUDBX1WP2YIRP5gatP8UHTPHJFmj-DlS1XtHGxnhKo-PAgcanqCuOkdidwW7DeiN-77ToqiyOpufm2XA-x-ercgKVSydwVuoqZxgUski3LptW7TMzzpPStxjNQnhHeK_jUqERcGZVjYSU77Ah-bo1oB8y9g9K1jQxtIMqO2VI4w3KN503-8wNI3Glr6KB4qc8MpIDsaUfKED06mI5Jq0VPBSDKm_9hNFlQtdoj4xhmIhjxYBI5oxle_MZZb533ABZ1n1EVbDzCKA=w1920-h912\" class=\"social-network\" draggable=\"false\">\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    </div>\r\n</body>\r\n</html>";

        private readonly IValidationService _validationService;

        public EmailService(IValidationService validationService)
        {
            _validationService = validationService;
        }

        private async Task SendEmailAsync(string subject, string email, string template)
        {
            if (_validationService.ValidateEmail(email) == false)
            {
                throw new ArgumentNullException(nameof(email));
            }

            if (string.IsNullOrEmpty(template))
            {
                throw new ArgumentException(nameof(template));
            }

            MailAddress sender = new MailAddress(Configuration.CorporateEmail, "Instend Security System");
            MailAddress recipient = new MailAddress(email);
            MailMessage mail = new MailMessage(sender, recipient);

            mail.Subject = subject;
            mail.Body = template;
            mail.IsBodyHtml = true;

            SmtpClient smtp = new SmtpClient("smtp.gmail.com", 587);

            smtp.Credentials = new NetworkCredential(Configuration.CorporateEmail, Configuration.CorporatePassword);
            smtp.EnableSsl = true;

            await smtp.SendMailAsync(mail);
        }

        public async Task SendEmailConfirmation(string email, string code, string link)
        {
            StringBuilder templateBuilder = new StringBuilder(_emailConfirmation);
            templateBuilder.Replace("CODE", code).Replace("LINK", link);

            await SendEmailAsync("Email confirmation", email, templateBuilder.ToString());
        }

        public async Task SendLoginNotificationEmail(string email, SessionModel session)
        {
            StringBuilder templateBuilder = new StringBuilder("<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <meta name=\"google\" content=\"notranslate\">\r\n    <style>\r\n        @import url('https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&display=swap');\r\n        * {\r\n            margin: 0;\r\n            padding: 0;\r\n            box-sizing: border-box;\r\n        }\r\n        body {\r\n            font-family: 'Open Sans', sans-serif;\r\n            color: black;\r\n        }\r\n        .m-b {\r\n            margin-bottom: 20px;\r\n        }\r\n        .m-b-10 {\r\n            margin-bottom: 10px;\r\n        }\r\n        h1 {\r\n            font-size: 24px;\r\n            color: black;\r\n        }\r\n        h2 {\r\n            color: black;\r\n        }\r\n        h3 {\r\n            font-size: 16px;\r\n            color: black;\r\n        }\r\n        h4 {\r\n            font-size: 14px;\r\n            color: rgb(177, 177, 177);\r\n            margin-top: 2px;\r\n            font-weight: 500;\r\n            margin-bottom: 2px;\r\n        }\r\n        .wrapper {\r\n            height: auto;\r\n            width: 425px;\r\n            margin-top: 20px;\r\n            margin-left: auto;\r\n            margin-right: auto;\r\n            text-align: center;\r\n        }\r\n        .content-wrapper {\r\n            padding-left: 10px;\r\n            padding-right: 10px;\r\n        }\r\n        .content-divide {\r\n            margin-top: 15px;\r\n            margin-bottom: 15px;\r\n            border: 1px solid #eaeaea;\r\n        }\r\n        .logo {\r\n            height: 70px;\r\n            width: 70px;\r\n            margin-bottom: 5px;\r\n            object-fit: contain;\r\n            user-select: none;\r\n        }\r\n        .logo-wrapper {\r\n            height: auto;\r\n            width: 100%;\r\n        }\r\n        .logo-link {\r\n            height: auto;\r\n            width: auto;\r\n        }\r\n        p {\r\n            align-self: center;\r\n            font-weight: 500;\r\n            font-size: 14px;\r\n            text-align: center;\r\n            color: #515151;\r\n        }\r\n        span {\r\n            color: #2f8fff;\r\n            cursor: pointer;\r\n            user-select: none;\r\n        }\r\n        a {\r\n            text-decoration: none;\r\n        }\r\n        .button {\r\n            background: #2b80ff;\r\n            border-radius: 30px;\r\n            text-align: center;\r\n            margin-top: 20px;\r\n            width: fit-content;\r\n            user-select: none;\r\n            font-weight: 600;\r\n            display: flex;\r\n            text-transform: uppercase;\r\n            text-decoration: none;\r\n            margin-left: auto;\r\n            margin-right: auto;\r\n            color: white;\r\n            outline: none;\r\n            border: none;\r\n            outline: none;\r\n            font-size: 14px;\r\n            transition: 0.1s ease;\r\n        }\r\n        .code {\r\n            height: auto;\r\n            width: fit-content;\r\n            text-align: center;\r\n            padding: 10px 25px;\r\n            background: #f3f3f3;\r\n            margin-left: auto;\r\n            margin-right: auto;\r\n            margin-bottom: 20px;\r\n            border-radius: 12px;\r\n            font-size: 12px;\r\n        }\r\n        footer {\r\n            height: auto;\r\n            width: 100%;\r\n            padding: 10px 10px;\r\n            background: #f9f9f9;\r\n            text-align: left;\r\n            border-radius: 6px;\r\n            color: #bdbdbd;\r\n        }\r\n        footer p {\r\n            text-align: left;\r\n            margin-bottom: 5px;\r\n        }\r\n        .exider-security {\r\n            display: grid;\r\n            width: fit-content;\r\n        }\r\n        .footer-logo {\r\n            height: 26px;\r\n            width: 26px;\r\n            object-fit: contain;\r\n            padding: 5px;\r\n            background: white;\r\n            border: 1px solid #e3e3e3;\r\n            border-radius: 6px;\r\n        }\r\n        .footer-link {\r\n            color: #ababab;\r\n            font-size: 12px;\r\n            text-align: right;\r\n            text-decoration: underline;\r\n        }\r\n        .social-network {\r\n            height: 20px;\r\n            width: 20px;\r\n            margin-top: 5px;\r\n            object-fit: contain;\r\n        }\r\n        .footer-first-line {\r\n            margin-top: 3px;\r\n        }\r\n        table {\r\n            border-collapse: collapse;\r\n            width: 100%;\r\n        }\r\n        th, td {\r\n            text-align: left;\r\n            padding: 10px;\r\n            color: #ababab;\r\n            width: 50%;\r\n            font-size: 14px;\r\n        }\r\n        th {\r\n            border-left: none;\r\n        }\r\n        td {\r\n            border-right: none;\r\n        }\r\n        @media (max-width: 470px) {\r\n            .content-wrapper {\r\n                padding-left: 20px;\r\n                padding-right: 20px;\r\n            }\r\n            .wrapper {\r\n                width: 100vw;\r\n            }\r\n            .footer-first-line {\r\n                margin-top: 10px;\r\n            }\r\n            footer {\r\n                padding: 0;\r\n                font-size: 11px;\r\n                padding: 20px;\r\n            }\r\n        }\r\n    </style>\r\n\r\n</head>\r\n<body>\r\n\r\n    <div class=\"wrapper\">\r\n        <div class=\"content-wrapper\">\r\n            <div class=\"logo-wrapper\">\r\n                <a href=\"https://exider.com\" class=\"logo-link\">\r\n                    <img src=\"https://lh3.googleusercontent.com/fife/ALs6j_EawlQMWK3NrKq8gf28vtAwsi-ZB9xZfR496jHvpAjjDSNAplNhh0GEUMYHXLRxq4qQpwY61PocPnzttqQT0Of0vQ0IihV1nxJhZvtH3giboDquR1mJfVWyCN7ggHlDsXthEwn1KULJcTLixM5VGyGAw1rJeGpOvkTGFiYsIrhWD3fy4AgFYYAk_XDWOObyJlvxqvY4l68ohOWWQXOivzPk4bHZMjeRcse4kmGk9FjbF0sDTQcstKjrGsFf6Ng10mxmWyjM-oKBuAlETYucgWYdOf-asxknm9uMpemkWFIuzRr3r9cjTTShSAvX5X4CG2_U4b2boon3MXTUTosCwqCbktqHf6rKWimMns_YrWV_wTxsB16gPeLY4oymnSD8x_WKySdt-wyuEG9uqKFTSfSCtvtn31syEd9nER2wrSpt0ShAy_AJCCbfNwfjO56kYYTGm1t117D_n-YuTc5kV-KvaDD_0FMdtTxPNt3fEQORN8zYGuk3qSyHux_-7q9urtn5L6Yl0qIfW268nT9BdpW2qRdi2XmKxBERnr1PK3icyPvqYLnb5cWrD3wdYLpAcOOdWw1Ax6wrIR0pc2RKDVtiES7KI83mM3JwiedGJI1ppVRnC9cRDlUNhkuqz5QTSq-yNdkzPe4qc4WPU-iMdTFPHOTu1MQRyAQ2GnvQXTxtH2Rsfn4GBSuCpZPfieo4I7xLIFzjC9NKdJ-tl0X2w1t2uJjeVyrlWm05dnVTqM5VFiiF8MHhO1jU8eL9VyC7I-0ebzofWVNWhXBT2V8vxNmqaQCYwjrVqf2YrWY8B1LNEw3-JOTp5YiGdD5p1XGxyhv3RQLCQdMuesQMYXuxoMYrJ4KE7bBcTHEtWkqQdmgvJ-VI9ir9rDdXXO0YbSX-DNZVgUZf6MPmdOF43Ih6ggn-ujF8XdfL52QynYvC8VqNGmrzwSGkjzlEvT-Ia9oF9Kd18_fGIC15XUIYlxwL6DZB3uKd5uN-hPwMw5LsNdhw9wsZtJYWoMkbo_fCfQF6i_8EMA_LgS8GV2uP5yzXdkXe1QoXIpWmcJBtkAETKRD17hAHRd2fPjCmFQFYtGJIBi8OQvLAJqZsMoxCE3ebC1-qtbmr4TQh9JUGXSQ5pKSyyafoVcCN4rAH-fV6gP5Lvn8DiPz8sFQuIVVi6R2AXBcR62MahzpE9v7p-Pb16i-JAc81INksT0YZEeO9r8fuiRmWtkRYhFWRRTtxkuQamfnhOfYpreejgkGgcb842coLOOBb7kRev1YJ_tBgkSfNYa65Jxi9NUpunv0dMVwnnwJYpEYm3cpxAoqinTDaU0yTzOe7wuUOj9E1QRjY01QYCc2JckMkyjxvBvTDtJqB-SqercjPbJeJwdC3o5Fvsal2jW3NPmN4qq77d9MZtNJqKEoYH_6LIm8D-mBEnKRXkirrRcSOm_PAl8iMfm-BOg3c87XFbxd9dh3sb-dWP1MQ5O4YBm5uI2d0eSwH4acIqK__d2aqx4OuYUOxnGrW2vuePwLmZwFAODscZvLmh2Kutkypl38DfA2ZwjebPOZgB5xATVwAU4q9tRKogT7AhPTyt08fZso1eyPyvU01y2g-Vzjpo9_XTzRLZtnDtpFvAP5YTOVImNde4PF_rzPPwobMUKVVxw=w1920-h912\" class=\"logo\" draggable=\"false\" />\r\n                </a>\r\n            </div>\r\n            <h1 class=\"m-b-10\">Logged in to your account</h1>\r\n            <p class=\"m-b\" style=\"font-size: 14px;\">Someone has gained access to your account. Below is the connection information. If it was you just ignore this letter</p>\r\n            <hr class=\"content-divide\">\r\n            <table>\r\n                <tr>\r\n                    <th style=\"text-align: right;\">Month:</th>\r\n                    <td>MONTH</td>\r\n                </tr>\r\n                <tr>\r\n                    <th style=\"text-align: right;\">Day:</th>\r\n                    <td>DAY</td>\r\n                </tr>\r\n                <tr>\r\n                    <th style=\"text-align: right;\">Time:</th>\r\n                    <td>TIME</td>\r\n                </tr>\r\n                <tr>\r\n                    <th style=\"text-align: right;\">Device:</th>\r\n                    <td>DEVICE</td>\r\n                </tr>\r\n                <tr>\r\n                    <th style=\"text-align: right;\">Browser:</th>\r\n                    <td>BROWSER</td>\r\n                </tr>\r\n            </table>\r\n            <hr class=\"content-divide\">\r\n            <div class=\"button m-b\"><a href=\"LINK\" style=\"color: white; height: 100%; width: 100%; cursor: pointer; padding: 15px 45px;\">Change password</a></div>\r\n        </div>\r\n        <footer>\r\n            <div class=\"header\">\r\n                <div style=\"width: 100%; display: flex;\">\r\n                    <div style=\"width: 35px;\">\r\n                        <img src=\"https://lh3.googleusercontent.com/u/0/drive-viewer/AEYmBYS-b_pMLiSYlDXWgyda29nFKjnMYUtiWpiwYhqwvDkihZBzsq1RAQGsR9cCBgmo8NOBuyg03EXGrxatGF8bD1mbNB0E0w=w1960-h2358\" class=\"footer-logo\" draggable=\"false\">\r\n                    </div>\r\n                    <div style=\"margin-right: auto;\">\r\n                        <div style=\"margin-bottom: 5px; font-size: 12px; color: #444; margin-top: 5px; font-weight: 500; display: flex;\"><div style=\"font-weight: 700;\">Exider</div>&nbsp;Security</div>\r\n                    </div>\r\n                    <div style=\"display: flex; margin-left: auto; margin-top: 5px;\">\r\n                        <a href=\"#\" class=\"footer-link\" style=\"margin-right: 15px; color :#ababab;\">Terms of use</a>\r\n                        <a href=\"#\" class=\"footer-link\" style=\"color :#ababab;\">Privacy policy</a>\r\n                    </div>\r\n                </div>\r\n                <div style=\"height: 1px; width: 100%; background: #ddd;\" class=\"footer-first-line\"></div>\r\n                <h3 style=\"margin-top: 10px; font-size: 12px; color: #999;\">About Us</h3>\r\n                <p style=\"margin-top: 5px; font-size: 12px; color: #ccc;\">Exider helps you automatically sync files across your devices, share them with friends, and edit them using neural networks</p>\r\n                <div style=\"margin-top: 10px; height: 1px; width: 100%; background: #ddd;\"></div>\r\n                <div style=\"width: 100%; margin-top: 5px; display: flex;\">\r\n                    <div style=\"font-size: 12px; margin-top: 7px; color: #999; font-weight: 500;\">© Andreev 2024. Minsk, Belarus</div>\r\n                    <div style=\"margin-left: auto;\">\r\n                        <a href=\"https://www.facebook.com/profile.php/?id=61553222136930&paipv=0&eav=AfYg6dkHp8U4FG3lqDfucLJeTJhV-2BSs3BHd1zuu6Jv5qQShEmPZRbBFigDzrt5DA4&_rdr\">\r\n                            <img src=\"https://lh3.googleusercontent.com/fife/ALs6j_E4daROcy_MYZm8rJ6Qk6uwEWquYrlV9rxBZVJBVAe-yuRsDenMNPjd_xrZikFraxqv2nHFYfGlD-o8mTcWPHinbgq-uPvWHgcAnpC-_3WvIWdePj7tv6v5oEJlmOwVGyzZEObetB7MDFEKkvzMSk1dR7DnPSZzeqy_OqskLBoi5SpFDcJPboY_nuKQ47SS8riDTIrFKt_eorB8EkX8vae28P0kvy-1125OChW7TFQzmgyuzxaUWheSYNAtndWkr0AxnUIeg7Cveoa5v7TwjVbQJthYHqdSA-uyWOUwtsGsGQvmQ2GRP6wjOPutgKTIuFwzVIsZ5eHRT7mkw1a8LbjYp5DbVu4Ek73m1E1SYibNzTwKTclygyq89e5Slnxg8vxYfOHl7CbiMmFdehkhVlb9xrJxVcRiU9CzqAtMMdZHdLI7WJiYdXbcegnYw6jBhabXe7Y4n6BsDQurHYJ6Hlz31aip-uE4g_mWBzo7qSExz4BNE6ZXRHGAiXPkw0p1iEd_hocLQYIhtCRW31A3Cm0Rv8ncbcPkfl3dSG4oH5rvSDJYPcJ84lp52yn_LeGu5ZeDTvPPrkLaX071_hHhsj_WEU4wgSws0rHuZXzNw2RRsEOkiE7XwS6wiy1mUidYI7F1Ekxdy59EQmfG2Ks4MTjRpv8DgOFtZXUAuWgC6Q6jZpRN57yHHj2wk8z3C_uO0J8oDTWtX5UGb6g5FhfbBBp6Dl-hXFQpfGQE640o25sSkC5I6zvq52bcEo2RSqxzzZeq3s4097hOWGsP-0jlzTzeWh3fwLCQZmdfa1E3Qqm85OtTYtmQpZKUuWFYrxskR3LhAj758z7DhENVrJik514-Ux-w7JJAZuKt6OULwCFRweFSHsXUvSbvvak2BpVVxknK3fYKDShFo40Pt666aABiEXAXP1E0Ukz7wtH8ZVpf4oq_mR9ztpoU0gYzXTsdfMXKRLXarNkJIwdqxweo-KzYHkUWqMXpIBCg9qQ7Seec9NC_b77s4t9XfYI4p9ZwsQW43MPjVB-MfbeHPpvwizW6JDinHOkuKGlog3nuMza-I8wvkmh-hHdLvKTYuSChNjlUCd0b8243gozh5_vfE8zlfZioTlTDYPUqghQRo5ggrKlMlyvcsmdtJPf6-GqFtoND9JUX8CUQ9RL--RdZzzifLchLJ7csJ2jjBQs4USnzNgk394Pw_UjOA8QKuUsBR86LYnjjY-ulzhyqO_5QR4r0wwXmTdh-QDnypmjt8qiJawGR_F_F-VQMjY5IQgSQKOoPfkDO21EcBOdoFQZvA5WBAG4qoydkP5t-_BiKOqD3sUlzhCiEKWIPGbcTV_FAxaMcSNINjG6qEhnycJDYnE7yKwUJkGyMa4dSUTKsahjKpRMMs7p2eOWRo0j32zq37JabQO5NaeYD5Khr5hJlgnT9-dzyjpDVPlLC8x2FMwBIYSnELn-5Kupu7upwXS8ShPtyeXH85_ZSRUkly8KkhZk5Q4ZcPcdToVL5Qc050J-XL5CpRRlZu4aBPbiJeP_tzyxnuBp45iCocfaYoWez91LdbSk55-doa6u-PKhKQGnC30f1pnjdU2w9Xgi-Iic384KHlT7HiMR5tcNKc7y_ijCTbs3o5OcCOzhyoyRY37ee-8tLSQ=w1202-h912\" class=\"social-network\" draggable=\"false\">\r\n                        </a>\r\n                        <a href=\"https://instagram.com/exider_company\" style=\"margin-left: 10px;\">\r\n                            <img src=\"https://lh3.googleusercontent.com/fife/ALs6j_HItPGHXR0n7W2aWkSDkoF7gCxS67kNo-o8sCBg27x61CVwsfRoiAdJ1JgL5tt1McXBlByHnNXkvw1y2THfXKoghc2oR3kuoHiqZlij32z-gD6xkYL40F6NE1I0D2KCTZgw2621q7Hk8EgwfqAXfZjEtCnxiALlSynIXDsROelkFatLmkFc3iTVB0noG6cw1c7mjCYBdEyNMzvMAtGgzs17zanWBB-z9PZR1-_3m7GAv_BqsSbY5v_bAe9XYa8B0b6PiZBcA6U-q2KiO2K69uDx0G5TpSAKaH58s99EfCPWWVJaxT-SBh39LF-MSCwjkXfYuODzQQXxpKc86d1EzV33pxKXZbMlSNbJWzBfzguPXciRStz8OV3y77ef8r8rwvlkjnIok_Xuvt7fKjvcDCBpDbZ-M5jIRbPh6axsfuJ9k1bCSiAhEO3xSeQhNJEDpzAfsHLwJznLupj6IyBnxYotlDXZKrYpGKyksH8qv1LehnUZb76SwwcO4l9N2akiGLwbeT6XR0nVpoFycQEfR0LfWgSlr8ksjMdUYt30fglPhSD9wq1qYuH9rvkKaDGOnAd9lbc8U-6IEfq3F5WQncGBXyAdbMmuydKYmuYpc1rVjU6vqGZ1xN-NT8mCPrFfKGBAbXluFitRGL6lorTNE7hxSHGzdhD0pO2wjOgOn71zKlAK563tGihqeujG91pxZ_bzHtFO2Ba4ylBkSc4v_eNxQT_-2eIdk0Dv85gXStF7lLMG7EMLsPq3yexMdiefhnT7OJL_EETAc4nzwvWFIsvWVY2RV5fy-z9lTqIB8LTtE0atPrh1azRhnI5ZeAq4XITsktA6u5EOtgsM-NQfbrBPz20L7qknRd7vLr42i-9OkycNsLm7Pnhxwf9nXCzHf7bI2QywOmQUmZd-akBYEPxAITSPo3Hh-RmUD9m9RLhdYjFWPB57IBSIKxYIo4WvgHt4MM56YmByJKTg9-LbpUc7PrWDRo8qBOTLF56-uYpJEWo9QpfkTOnjrD-RFuwgcHjBcUP475LjxlTst__anyBkK5c6bS6NqTahGzCr6ItY2V9GnC8MyrsixgAO1WfVOFsfbvKWStI1npibe5VxdeuKmWuUzYBOJE9ifhQo6B8Ryj9VDJ5rD3g7CcQWGm393kTg55lJXuKyimQlsTe1994EvU7Shm2j7AyNKQDt6oHlURZxY1WHc88tpMTEb7rGJNPzNTUplctaDbGgq0cLS3ffRT2SjUkYOrp2B-gxXiMTduQ05c_dwMzQRAsZR50cr8wv1DPBiji3pwIBdShZLIMOTsC5G4YQcHrLW5NozT9vsNIYdBiDfR6X1icKFnUcSZjAJpY_naZusSQ7QGwYTX8ReEa_xDGpCVUokFmmH9LbK9hvVPln5ZxDGIgf-5Fijq-V_1BLT2KaOjJBLAK5fZyZ7oO2VpsJWUB5nKarhkomghgX83vWgyw2jnPTkvHm860uxtURTQ5ut3VB9CPKYoWB_cLY-XmYiXotdmf9FoYeZhYvtT_sDTIdBAQh4AU9uOFnWIDBBHhX6RYATOX1FUb94gV7SJEk8KC2NnqIplrz5ifccFT9gGv2KQQmfFqh7D-89BvoUtqzdjbPpvMa3SVZsN8LcUBy9iHGeYqBfkUXvkLZNYs=w1920-h912\" class=\"social-network\" draggable=\"false\">\r\n                        </a>\r\n                        <a href=\"https://twitter.com/exider_company\" style=\"margin-left: 10px;\">\r\n                            <img src=\"https://lh3.googleusercontent.com/fife/ALs6j_ELsYOQM_xCNTA_F1XsfYiFemp3UFl8i-aRCA0SOTd5s5Y1lh5iGGu--nf0CYzISsaQQYwpCiTJ33IAzs2hbCbYUSRnmjR04c5TzoeKUtYaftuoWrdpOx1IXLdXrYV0oN4O7tzejmq9tsGBy7TTnLHJ7Q_FhpjUekOs_Bw60_jfvWepC3IcATAMX_kv056V4_ZHKwlEs_dYuMB3eRHahDRYgoTm162TTxtCWn3_OzwgRt-BGMB2rkzt_cNznjHDCIGSd88cm3mBTd7OE21M86ETXtrF7nxQeaiEGBy4d4Jf7qFjP5ElD7WRI-pZJggLKv-hslV9zkEa1nXrDyulY1jmClLqkmImsDVtoY-fI3tCdfP_Q-QHUrNUK0vM9sF5r9vl0Oem-6WIJ6k2Da-0KWpCx8AKC5Ds9c7GdNNs8liZcZJGG6RvbjEFMK5RbXg2TLry_cHFiQK9A73EDs8bc1OzVn7JQZ7tfg05In04KyvIrSP9ZED896At9EaNqizJDmQuq-e--lQ5C-wfoAnw8k1UBtVH55o4nvAqBhej1bbvyGGyD6oPfol2k346PJJWk9urfCBeGo42PzUsEbLK6bOoD-5T0Dw87xtZiLq-g_sIJ8dvDw3LjrROK3pmlTE34HgMRujWErDGY3vHpLZicUxQ2NAv17ruVgYC9Uglm_F5wXUIufMPW2cUL9pVOjPl23jJ4hdCMAnvcMygGSiemw-mfPHIaN2lNMy6aySDrVCpo2-244-7XOJ_rzE8WeR24zikS9FkpqpQvWbT-6--jQuoUB1efYr5pzP9e-bJVpZWY_FWYX6wU7dVo-kQQa2os7YQkQYG8nr7dCO3z5MLm3wMNlhm50AahLJPyZMZvgViCCyA3dCf4g8u85Zgikb6C4jZPdHPx5rpOWcvs08BSV7xNeBSEtxRkQ7Qy-2SaWVIg9ggl9TwMT7V2wuoi1NmCKoe24PEsJYlpHhsOx0M1pXXvjxJPzO7CjGU13vnf1NmVMm9b4r_hUXpSIOwuayLIxB0oZVrulnkmRrfWh4w7HXRbEUENb2G8nIgnzj4eaiHVppfkQs6PB5KR8FxghwQJ670jCH4FyfGj8rUzm6g0LCCng7Q1DhxlQ7FoCZb9NKou0OaxYBBj5jaD2vGvMtTaDAEeXDpr4D7lqsxz4guGznlX8awJRMewOsHuxs76JWhySAyYvv26YYthmGfFFR5HFV0aTADqO1Wke2jV1cb7gYToITMN_2Lyl54TuGYw__EBdsCZACrGq_yoLZC-CiNxBNl-zt_SGbtkYmMBINY9sZ_2nQE68GmJJVJgyk5WLaVwx8VoSM6Vjsfb-jpeEg5i2eWmkTa7HfAN4OLU8aMQ4ytdGXSAZhpVBPaVMysUDBX1WP2YIRP5gatP8UHTPHJFmj-DlS1XtHGxnhKo-PAgcanqCuOkdidwW7DeiN-77ToqiyOpufm2XA-x-ercgKVSydwVuoqZxgUski3LptW7TMzzpPStxjNQnhHeK_jUqERcGZVjYSU77Ah-bo1oB8y9g9K1jQxtIMqO2VI4w3KN503-8wNI3Glr6KB4qc8MpIDsaUfKED06mI5Jq0VPBSDKm_9hNFlQtdoj4xhmIhjxYBI5oxle_MZZb533ABZ1n1EVbDzCKA=w1920-h912\" class=\"social-network\" draggable=\"false\">\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    </div>\r\n</body>\r\n</html>");

            templateBuilder.Replace("MONTH", Enum.Parse(typeof(Configuration.Months), session.CreationTime.Month.ToString()).ToString())
                           .Replace("DAY", session.CreationTime.Day.ToString())
                           .Replace("TIME", $"{session.CreationTime.Hour}:{session.CreationTime.Minute}")
                           .Replace("DEVICE", session.Device)
                           .Replace("BROWSER", session.Browser);

            await SendEmailAsync("Security Alert", email, templateBuilder.ToString());
        }

        public  async Task SendPasswordRecoveryEmail(string email, string code, string link)
        {
            StringBuilder templateBuilder = new StringBuilder(_passwordRecovery);
            templateBuilder.Replace("CODE", code).Replace("LINK", link);

            await SendEmailAsync("Password recovery", email, templateBuilder.ToString());
        }

    }

}
